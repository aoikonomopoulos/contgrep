.\" Automatically generated by Pandoc 2.1.2
.\"
.TH "CONTGREP" "1" "March 2019" "User Manual" ""
.hy
.SH NAME
.PP
contgrep \- grep with line continuations
.SH SYNOPSIS
.PP
contgrep [\f[I]options\f[]] [file\&...]
.SH DESCRIPTION
.PP
\f[C]contgrep\f[] is a toy grep which can handle some simple cases of
multi\-line searching.
Specifically, it can be told (by means of a regular expression) which
lines to consider continuations of a previous line.
Then, it can act just like grep, except that if a match is found in line
with continuations (either in the leading line or its continuations),
the whole set is output.
.PP
For example, in the default settings (which is tuned for log files
starting with a timestamp), any line starting with whitespace is
considered a continuation.
So for the file
.IP
.nf
\f[C]
<timestamp>\ foo
\ \ bar
<timestamp>\ baz
\ \ foo
\f[]
.fi
.PP
\f[C]contgrep\ \-e\ foo\ file\f[] will output all lines (i.e.\ two
leading lines, each with one continuation line).
.SH OPTIONS
.TP
.B \-e \f[I]RE\f[]
Specify regular expression to search for.
This is a required argument that can be specified multiple times.
The given string will be compiled into a multi\-line regular expression;
the syntax is that of the \f[C]regex\f[] rust crate.
.RS
.RE
.TP
.B \-c \f[I]RE\f[]
Any line which matches this regular expression is considered a
continuation of the previous line.
If not specified, defaults to \[lq]^\\s+\[rq].
This is not compiled into a multi\-line regular expression.
Conflicts with \f[C]\-C\f[].
.RS
.RE
.TP
.B \-C \f[I]RE\f[]
Any line matching this regular expression is considered a leading
(i.e.\ not a continuation) line.
Depending on the line format you're looking at, \f[C]\-c\f[] might be
preferable.
Only one of the two options is allowed on the command line.
.RS
.RE
.TP
.B \-H
Prepend filename to every match.
This is the default when searching more than one file.
.RS
.RE
.TP
.B \-n
Prepend line number to every match.
.RS
.RE
.SH NOTES
.PP
Input is treated as arbitrary bytes.
That means that it does not need to be of a valid encoding.
Conversely, unicode character classes are not available when specifying
a regular expression.
.SH EXIT STATUS
.PP
Same as \f[C]grep\f[], \f[C]contgrep\f[] returns 0 if a match was found,
1 if no matches were found and 2 on error.
.SH AUTHORS
Angelos Oikonomopoulos.
